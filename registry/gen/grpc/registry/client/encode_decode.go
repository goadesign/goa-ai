// Code generated by goa v3.23.1, DO NOT EDIT.
//
// registry gRPC client encoders and decoders
//
// Command:
// $ goa gen goa.design/goa-ai/registry/design -o registry

package client

import (
	"context"

	registrypb "goa.design/goa-ai/registry/gen/grpc/registry/pb"
	registry "goa.design/goa-ai/registry/gen/registry"
	goagrpc "goa.design/goa/v3/grpc"
	"google.golang.org/grpc"
	"google.golang.org/grpc/metadata"
)

// BuildRegisterFunc builds the remote method to invoke for "registry" service
// "Register" endpoint.
func BuildRegisterFunc(grpccli registrypb.RegistryClient, cliopts ...grpc.CallOption) goagrpc.RemoteFunc {
	return func(ctx context.Context, reqpb any, opts ...grpc.CallOption) (any, error) {
		for _, opt := range cliopts {
			opts = append(opts, opt)
		}
		if reqpb != nil {
			return grpccli.Register(ctx, reqpb.(*registrypb.RegisterRequest), opts...)
		}
		return grpccli.Register(ctx, &registrypb.RegisterRequest{}, opts...)
	}
}

// EncodeRegisterRequest encodes requests sent to registry Register endpoint.
func EncodeRegisterRequest(ctx context.Context, v any, md *metadata.MD) (any, error) {
	payload, ok := v.(*registry.RegisterPayload)
	if !ok {
		return nil, goagrpc.ErrInvalidType("registry", "Register", "*registry.RegisterPayload", v)
	}
	return NewProtoRegisterRequest(payload), nil
}

// DecodeRegisterResponse decodes responses from the registry Register endpoint.
func DecodeRegisterResponse(ctx context.Context, v any, hdr, trlr metadata.MD) (any, error) {
	message, ok := v.(*registrypb.RegisterResponse)
	if !ok {
		return nil, goagrpc.ErrInvalidType("registry", "Register", "*registrypb.RegisterResponse", v)
	}
	if err := ValidateRegisterResponse(message); err != nil {
		return nil, err
	}
	res := NewRegisterResult(message)
	return res, nil
}

// BuildUnregisterFunc builds the remote method to invoke for "registry"
// service "Unregister" endpoint.
func BuildUnregisterFunc(grpccli registrypb.RegistryClient, cliopts ...grpc.CallOption) goagrpc.RemoteFunc {
	return func(ctx context.Context, reqpb any, opts ...grpc.CallOption) (any, error) {
		for _, opt := range cliopts {
			opts = append(opts, opt)
		}
		if reqpb != nil {
			return grpccli.Unregister(ctx, reqpb.(*registrypb.UnregisterRequest), opts...)
		}
		return grpccli.Unregister(ctx, &registrypb.UnregisterRequest{}, opts...)
	}
}

// EncodeUnregisterRequest encodes requests sent to registry Unregister
// endpoint.
func EncodeUnregisterRequest(ctx context.Context, v any, md *metadata.MD) (any, error) {
	payload, ok := v.(*registry.UnregisterPayload)
	if !ok {
		return nil, goagrpc.ErrInvalidType("registry", "Unregister", "*registry.UnregisterPayload", v)
	}
	return NewProtoUnregisterRequest(payload), nil
}

// BuildEmitToolResultFunc builds the remote method to invoke for "registry"
// service "EmitToolResult" endpoint.
func BuildEmitToolResultFunc(grpccli registrypb.RegistryClient, cliopts ...grpc.CallOption) goagrpc.RemoteFunc {
	return func(ctx context.Context, reqpb any, opts ...grpc.CallOption) (any, error) {
		for _, opt := range cliopts {
			opts = append(opts, opt)
		}
		if reqpb != nil {
			return grpccli.EmitToolResult(ctx, reqpb.(*registrypb.EmitToolResultRequest), opts...)
		}
		return grpccli.EmitToolResult(ctx, &registrypb.EmitToolResultRequest{}, opts...)
	}
}

// EncodeEmitToolResultRequest encodes requests sent to registry EmitToolResult
// endpoint.
func EncodeEmitToolResultRequest(ctx context.Context, v any, md *metadata.MD) (any, error) {
	payload, ok := v.(*registry.EmitToolResultPayload)
	if !ok {
		return nil, goagrpc.ErrInvalidType("registry", "EmitToolResult", "*registry.EmitToolResultPayload", v)
	}
	return NewProtoEmitToolResultRequest(payload), nil
}

// BuildPongFunc builds the remote method to invoke for "registry" service
// "Pong" endpoint.
func BuildPongFunc(grpccli registrypb.RegistryClient, cliopts ...grpc.CallOption) goagrpc.RemoteFunc {
	return func(ctx context.Context, reqpb any, opts ...grpc.CallOption) (any, error) {
		for _, opt := range cliopts {
			opts = append(opts, opt)
		}
		if reqpb != nil {
			return grpccli.Pong(ctx, reqpb.(*registrypb.PongRequest), opts...)
		}
		return grpccli.Pong(ctx, &registrypb.PongRequest{}, opts...)
	}
}

// EncodePongRequest encodes requests sent to registry Pong endpoint.
func EncodePongRequest(ctx context.Context, v any, md *metadata.MD) (any, error) {
	payload, ok := v.(*registry.PongPayload)
	if !ok {
		return nil, goagrpc.ErrInvalidType("registry", "Pong", "*registry.PongPayload", v)
	}
	return NewProtoPongRequest(payload), nil
}

// BuildListToolsetsFunc builds the remote method to invoke for "registry"
// service "ListToolsets" endpoint.
func BuildListToolsetsFunc(grpccli registrypb.RegistryClient, cliopts ...grpc.CallOption) goagrpc.RemoteFunc {
	return func(ctx context.Context, reqpb any, opts ...grpc.CallOption) (any, error) {
		for _, opt := range cliopts {
			opts = append(opts, opt)
		}
		if reqpb != nil {
			return grpccli.ListToolsets(ctx, reqpb.(*registrypb.ListToolsetsRequest), opts...)
		}
		return grpccli.ListToolsets(ctx, &registrypb.ListToolsetsRequest{}, opts...)
	}
}

// EncodeListToolsetsRequest encodes requests sent to registry ListToolsets
// endpoint.
func EncodeListToolsetsRequest(ctx context.Context, v any, md *metadata.MD) (any, error) {
	payload, ok := v.(*registry.ListToolsetsPayload)
	if !ok {
		return nil, goagrpc.ErrInvalidType("registry", "ListToolsets", "*registry.ListToolsetsPayload", v)
	}
	return NewProtoListToolsetsRequest(payload), nil
}

// DecodeListToolsetsResponse decodes responses from the registry ListToolsets
// endpoint.
func DecodeListToolsetsResponse(ctx context.Context, v any, hdr, trlr metadata.MD) (any, error) {
	message, ok := v.(*registrypb.ListToolsetsResponse)
	if !ok {
		return nil, goagrpc.ErrInvalidType("registry", "ListToolsets", "*registrypb.ListToolsetsResponse", v)
	}
	if err := ValidateListToolsetsResponse(message); err != nil {
		return nil, err
	}
	res := NewListToolsetsResult(message)
	return res, nil
}

// BuildGetToolsetFunc builds the remote method to invoke for "registry"
// service "GetToolset" endpoint.
func BuildGetToolsetFunc(grpccli registrypb.RegistryClient, cliopts ...grpc.CallOption) goagrpc.RemoteFunc {
	return func(ctx context.Context, reqpb any, opts ...grpc.CallOption) (any, error) {
		for _, opt := range cliopts {
			opts = append(opts, opt)
		}
		if reqpb != nil {
			return grpccli.GetToolset(ctx, reqpb.(*registrypb.GetToolsetRequest), opts...)
		}
		return grpccli.GetToolset(ctx, &registrypb.GetToolsetRequest{}, opts...)
	}
}

// EncodeGetToolsetRequest encodes requests sent to registry GetToolset
// endpoint.
func EncodeGetToolsetRequest(ctx context.Context, v any, md *metadata.MD) (any, error) {
	payload, ok := v.(*registry.GetToolsetPayload)
	if !ok {
		return nil, goagrpc.ErrInvalidType("registry", "GetToolset", "*registry.GetToolsetPayload", v)
	}
	return NewProtoGetToolsetRequest(payload), nil
}

// DecodeGetToolsetResponse decodes responses from the registry GetToolset
// endpoint.
func DecodeGetToolsetResponse(ctx context.Context, v any, hdr, trlr metadata.MD) (any, error) {
	message, ok := v.(*registrypb.GetToolsetResponse)
	if !ok {
		return nil, goagrpc.ErrInvalidType("registry", "GetToolset", "*registrypb.GetToolsetResponse", v)
	}
	if err := ValidateGetToolsetResponse(message); err != nil {
		return nil, err
	}
	res := NewGetToolsetResult(message)
	return res, nil
}

// BuildSearchFunc builds the remote method to invoke for "registry" service
// "Search" endpoint.
func BuildSearchFunc(grpccli registrypb.RegistryClient, cliopts ...grpc.CallOption) goagrpc.RemoteFunc {
	return func(ctx context.Context, reqpb any, opts ...grpc.CallOption) (any, error) {
		for _, opt := range cliopts {
			opts = append(opts, opt)
		}
		if reqpb != nil {
			return grpccli.Search(ctx, reqpb.(*registrypb.SearchRequest), opts...)
		}
		return grpccli.Search(ctx, &registrypb.SearchRequest{}, opts...)
	}
}

// EncodeSearchRequest encodes requests sent to registry Search endpoint.
func EncodeSearchRequest(ctx context.Context, v any, md *metadata.MD) (any, error) {
	payload, ok := v.(*registry.SearchPayload)
	if !ok {
		return nil, goagrpc.ErrInvalidType("registry", "Search", "*registry.SearchPayload", v)
	}
	return NewProtoSearchRequest(payload), nil
}

// DecodeSearchResponse decodes responses from the registry Search endpoint.
func DecodeSearchResponse(ctx context.Context, v any, hdr, trlr metadata.MD) (any, error) {
	message, ok := v.(*registrypb.SearchResponse)
	if !ok {
		return nil, goagrpc.ErrInvalidType("registry", "Search", "*registrypb.SearchResponse", v)
	}
	if err := ValidateSearchResponse(message); err != nil {
		return nil, err
	}
	res := NewSearchResult(message)
	return res, nil
}

// BuildCallToolFunc builds the remote method to invoke for "registry" service
// "CallTool" endpoint.
func BuildCallToolFunc(grpccli registrypb.RegistryClient, cliopts ...grpc.CallOption) goagrpc.RemoteFunc {
	return func(ctx context.Context, reqpb any, opts ...grpc.CallOption) (any, error) {
		for _, opt := range cliopts {
			opts = append(opts, opt)
		}
		if reqpb != nil {
			return grpccli.CallTool(ctx, reqpb.(*registrypb.CallToolRequest), opts...)
		}
		return grpccli.CallTool(ctx, &registrypb.CallToolRequest{}, opts...)
	}
}

// EncodeCallToolRequest encodes requests sent to registry CallTool endpoint.
func EncodeCallToolRequest(ctx context.Context, v any, md *metadata.MD) (any, error) {
	payload, ok := v.(*registry.CallToolPayload)
	if !ok {
		return nil, goagrpc.ErrInvalidType("registry", "CallTool", "*registry.CallToolPayload", v)
	}
	return NewProtoCallToolRequest(payload), nil
}

// DecodeCallToolResponse decodes responses from the registry CallTool endpoint.
func DecodeCallToolResponse(ctx context.Context, v any, hdr, trlr metadata.MD) (any, error) {
	message, ok := v.(*registrypb.CallToolResponse)
	if !ok {
		return nil, goagrpc.ErrInvalidType("registry", "CallTool", "*registrypb.CallToolResponse", v)
	}
	res := NewCallToolResult(message)
	return res, nil
}
