// Code generated by goa v3.23.1, DO NOT EDIT.
//
// registry gRPC server encoders and decoders
//
// Command:
// $ goa gen goa.design/goa-ai/registry/design -o registry

package server

import (
	"context"

	registrypb "goa.design/goa-ai/registry/gen/grpc/registry/pb"
	registry "goa.design/goa-ai/registry/gen/registry"
	goagrpc "goa.design/goa/v3/grpc"
	"google.golang.org/grpc/metadata"
)

// EncodeRegisterResponse encodes responses from the "registry" service
// "Register" endpoint.
func EncodeRegisterResponse(ctx context.Context, v any, hdr, trlr *metadata.MD) (any, error) {
	result, ok := v.(*registry.RegisterResult)
	if !ok {
		return nil, goagrpc.ErrInvalidType("registry", "Register", "*registry.RegisterResult", v)
	}
	resp := NewProtoRegisterResponse(result)
	return resp, nil
}

// DecodeRegisterRequest decodes requests sent to "registry" service "Register"
// endpoint.
func DecodeRegisterRequest(ctx context.Context, v any, md metadata.MD) (any, error) {
	var (
		message *registrypb.RegisterRequest
		ok      bool
	)
	{
		if message, ok = v.(*registrypb.RegisterRequest); !ok {
			return nil, goagrpc.ErrInvalidType("registry", "Register", "*registrypb.RegisterRequest", v)
		}
		if err := ValidateRegisterRequest(message); err != nil {
			return nil, err
		}
	}
	var payload *registry.RegisterPayload
	{
		payload = NewRegisterPayload(message)
	}
	return payload, nil
}

// EncodeUnregisterResponse encodes responses from the "registry" service
// "Unregister" endpoint.
func EncodeUnregisterResponse(ctx context.Context, v any, hdr, trlr *metadata.MD) (any, error) {
	resp := NewProtoUnregisterResponse()
	return resp, nil
}

// DecodeUnregisterRequest decodes requests sent to "registry" service
// "Unregister" endpoint.
func DecodeUnregisterRequest(ctx context.Context, v any, md metadata.MD) (any, error) {
	var (
		message *registrypb.UnregisterRequest
		ok      bool
	)
	{
		if message, ok = v.(*registrypb.UnregisterRequest); !ok {
			return nil, goagrpc.ErrInvalidType("registry", "Unregister", "*registrypb.UnregisterRequest", v)
		}
		if err := ValidateUnregisterRequest(message); err != nil {
			return nil, err
		}
	}
	var payload *registry.UnregisterPayload
	{
		payload = NewUnregisterPayload(message)
	}
	return payload, nil
}

// EncodeEmitToolResultResponse encodes responses from the "registry" service
// "EmitToolResult" endpoint.
func EncodeEmitToolResultResponse(ctx context.Context, v any, hdr, trlr *metadata.MD) (any, error) {
	resp := NewProtoEmitToolResultResponse()
	return resp, nil
}

// DecodeEmitToolResultRequest decodes requests sent to "registry" service
// "EmitToolResult" endpoint.
func DecodeEmitToolResultRequest(ctx context.Context, v any, md metadata.MD) (any, error) {
	var (
		message *registrypb.EmitToolResultRequest
		ok      bool
	)
	{
		if message, ok = v.(*registrypb.EmitToolResultRequest); !ok {
			return nil, goagrpc.ErrInvalidType("registry", "EmitToolResult", "*registrypb.EmitToolResultRequest", v)
		}
		if err := ValidateEmitToolResultRequest(message); err != nil {
			return nil, err
		}
	}
	var payload *registry.EmitToolResultPayload
	{
		payload = NewEmitToolResultPayload(message)
	}
	return payload, nil
}

// EncodePongResponse encodes responses from the "registry" service "Pong"
// endpoint.
func EncodePongResponse(ctx context.Context, v any, hdr, trlr *metadata.MD) (any, error) {
	resp := NewProtoPongResponse()
	return resp, nil
}

// DecodePongRequest decodes requests sent to "registry" service "Pong"
// endpoint.
func DecodePongRequest(ctx context.Context, v any, md metadata.MD) (any, error) {
	var (
		message *registrypb.PongRequest
		ok      bool
	)
	{
		if message, ok = v.(*registrypb.PongRequest); !ok {
			return nil, goagrpc.ErrInvalidType("registry", "Pong", "*registrypb.PongRequest", v)
		}
		if err := ValidatePongRequest(message); err != nil {
			return nil, err
		}
	}
	var payload *registry.PongPayload
	{
		payload = NewPongPayload(message)
	}
	return payload, nil
}

// EncodeListToolsetsResponse encodes responses from the "registry" service
// "ListToolsets" endpoint.
func EncodeListToolsetsResponse(ctx context.Context, v any, hdr, trlr *metadata.MD) (any, error) {
	result, ok := v.(*registry.ListToolsetsResult)
	if !ok {
		return nil, goagrpc.ErrInvalidType("registry", "ListToolsets", "*registry.ListToolsetsResult", v)
	}
	resp := NewProtoListToolsetsResponse(result)
	return resp, nil
}

// DecodeListToolsetsRequest decodes requests sent to "registry" service
// "ListToolsets" endpoint.
func DecodeListToolsetsRequest(ctx context.Context, v any, md metadata.MD) (any, error) {
	var (
		message *registrypb.ListToolsetsRequest
		ok      bool
	)
	{
		if message, ok = v.(*registrypb.ListToolsetsRequest); !ok {
			return nil, goagrpc.ErrInvalidType("registry", "ListToolsets", "*registrypb.ListToolsetsRequest", v)
		}
	}
	var payload *registry.ListToolsetsPayload
	{
		payload = NewListToolsetsPayload(message)
	}
	return payload, nil
}

// EncodeGetToolsetResponse encodes responses from the "registry" service
// "GetToolset" endpoint.
func EncodeGetToolsetResponse(ctx context.Context, v any, hdr, trlr *metadata.MD) (any, error) {
	result, ok := v.(*registry.Toolset)
	if !ok {
		return nil, goagrpc.ErrInvalidType("registry", "GetToolset", "*registry.Toolset", v)
	}
	resp := NewProtoGetToolsetResponse(result)
	return resp, nil
}

// DecodeGetToolsetRequest decodes requests sent to "registry" service
// "GetToolset" endpoint.
func DecodeGetToolsetRequest(ctx context.Context, v any, md metadata.MD) (any, error) {
	var (
		message *registrypb.GetToolsetRequest
		ok      bool
	)
	{
		if message, ok = v.(*registrypb.GetToolsetRequest); !ok {
			return nil, goagrpc.ErrInvalidType("registry", "GetToolset", "*registrypb.GetToolsetRequest", v)
		}
		if err := ValidateGetToolsetRequest(message); err != nil {
			return nil, err
		}
	}
	var payload *registry.GetToolsetPayload
	{
		payload = NewGetToolsetPayload(message)
	}
	return payload, nil
}

// EncodeSearchResponse encodes responses from the "registry" service "Search"
// endpoint.
func EncodeSearchResponse(ctx context.Context, v any, hdr, trlr *metadata.MD) (any, error) {
	result, ok := v.(*registry.SearchResult)
	if !ok {
		return nil, goagrpc.ErrInvalidType("registry", "Search", "*registry.SearchResult", v)
	}
	resp := NewProtoSearchResponse(result)
	return resp, nil
}

// DecodeSearchRequest decodes requests sent to "registry" service "Search"
// endpoint.
func DecodeSearchRequest(ctx context.Context, v any, md metadata.MD) (any, error) {
	var (
		message *registrypb.SearchRequest
		ok      bool
	)
	{
		if message, ok = v.(*registrypb.SearchRequest); !ok {
			return nil, goagrpc.ErrInvalidType("registry", "Search", "*registrypb.SearchRequest", v)
		}
		if err := ValidateSearchRequest(message); err != nil {
			return nil, err
		}
	}
	var payload *registry.SearchPayload
	{
		payload = NewSearchPayload(message)
	}
	return payload, nil
}

// EncodeCallToolResponse encodes responses from the "registry" service
// "CallTool" endpoint.
func EncodeCallToolResponse(ctx context.Context, v any, hdr, trlr *metadata.MD) (any, error) {
	result, ok := v.(*registry.CallToolResult)
	if !ok {
		return nil, goagrpc.ErrInvalidType("registry", "CallTool", "*registry.CallToolResult", v)
	}
	resp := NewProtoCallToolResponse(result)
	return resp, nil
}

// DecodeCallToolRequest decodes requests sent to "registry" service "CallTool"
// endpoint.
func DecodeCallToolRequest(ctx context.Context, v any, md metadata.MD) (any, error) {
	var (
		message *registrypb.CallToolRequest
		ok      bool
	)
	{
		if message, ok = v.(*registrypb.CallToolRequest); !ok {
			return nil, goagrpc.ErrInvalidType("registry", "CallTool", "*registrypb.CallToolRequest", v)
		}
		if err := ValidateCallToolRequest(message); err != nil {
			return nil, err
		}
	}
	var payload *registry.CallToolPayload
	{
		payload = NewCallToolPayload(message)
	}
	return payload, nil
}
