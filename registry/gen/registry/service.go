// Code generated by goa v3.23.1, DO NOT EDIT.
//
// registry service
//
// Command:
// $ goa gen goa.design/goa-ai/registry/design -o registry

package registry

import (
	"context"

	goa "goa.design/goa/v3/pkg"
)

// Internal tool registry gateway for toolset discovery and tool invocation
type Service interface {
	// Register a toolset with the registry
	Register(context.Context, *RegisterPayload) (res *RegisterResult, err error)
	// Unregister a toolset from the registry
	Unregister(context.Context, *UnregisterPayload) (err error)
	// Emit a tool execution result to the result stream
	EmitToolResult(context.Context, *EmitToolResultPayload) (err error)
	// Respond to a health check ping
	Pong(context.Context, *PongPayload) (err error)
	// List all registered toolsets with optional tag filtering
	ListToolsets(context.Context, *ListToolsetsPayload) (res *ListToolsetsResult, err error)
	// Get a specific toolset by name including all tool schemas
	GetToolset(context.Context, *GetToolsetPayload) (res *Toolset, err error)
	// Search toolsets by keyword matching name, description, or tags
	Search(context.Context, *SearchPayload) (res *SearchResult, err error)
	// Invoke a tool through the registry gateway
	CallTool(context.Context, *CallToolPayload) (res *CallToolResult, err error)
}

// APIName is the name of the API as defined in the design.
const APIName = "registry"

// APIVersion is the version of the API as defined in the design.
const APIVersion = "1.0"

// ServiceName is the name of the service as defined in the design. This is the
// same value that is set in the endpoint request contexts under the ServiceKey
// key.
const ServiceName = "registry"

// MethodNames lists the service method names as defined in the design. These
// are the same values that are set in the endpoint request contexts under the
// MethodKey key.
var MethodNames = [8]string{"Register", "Unregister", "EmitToolResult", "Pong", "ListToolsets", "GetToolset", "Search", "CallTool"}

// CallToolPayload is the payload type of the registry service CallTool method.
type CallToolPayload struct {
	// Name of the toolset containing the tool
	Toolset string
	// Name of the tool to invoke
	Tool string
	// Tool input payload (must match tool's input schema)
	Payload any
}

// CallToolResult is the result type of the registry service CallTool method.
type CallToolResult struct {
	// Unique identifier for this invocation
	ToolUseID string
	// Tool execution result
	Result any
	// Error details if execution failed
	Error *ToolError
}

// EmitToolResultPayload is the payload type of the registry service
// EmitToolResult method.
type EmitToolResultPayload struct {
	// Unique identifier for the tool invocation
	ToolUseID string
	// Tool execution result (JSON-serializable)
	Result any
	// Error details if execution failed
	Error *ToolError
}

// GetToolsetPayload is the payload type of the registry service GetToolset
// method.
type GetToolsetPayload struct {
	// Name of the toolset to retrieve
	Name string
}

// ListToolsetsPayload is the payload type of the registry service ListToolsets
// method.
type ListToolsetsPayload struct {
	// Filter by tags (all must match)
	Tags []string
}

// ListToolsetsResult is the result type of the registry service ListToolsets
// method.
type ListToolsetsResult struct {
	// List of registered toolsets
	Toolsets []*ToolsetInfo
}

// PongPayload is the payload type of the registry service Pong method.
type PongPayload struct {
	// ID of the ping being acknowledged
	PingID string
	// Name of the toolset responding
	Toolset string
}

// RegisterPayload is the payload type of the registry service Register method.
type RegisterPayload struct {
	// Unique name for the toolset
	Name string
	// Human-readable description of the toolset
	Description *string
	// Semantic version of the toolset
	Version *string
	// Tags for categorization and filtering
	Tags []string
	// Tool definitions with their schemas
	Tools []*ToolSchema
}

// RegisterResult is the result type of the registry service Register method.
type RegisterResult struct {
	// Pulse stream identifier for receiving tool requests
	StreamID string
	// ISO 8601 timestamp of registration
	RegisteredAt string
}

// SearchPayload is the payload type of the registry service Search method.
type SearchPayload struct {
	// Search query string
	Query string
}

// SearchResult is the result type of the registry service Search method.
type SearchResult struct {
	// Matching toolsets
	Toolsets []*ToolsetInfo
}

// Tool definition with input and output schemas
type Tool struct {
	// Tool identifier
	Name string
	// Human-readable description
	Description *string
	// JSON Schema for tool input parameters
	InputSchema []byte
	// JSON Schema for tool output (optional)
	OutputSchema []byte
}

// Error details from tool execution
type ToolError struct {
	// Error code
	Code string
	// Error message
	Message string
}

// Tool schema for registration
type ToolSchema struct {
	// Tool identifier
	Name string
	// Human-readable description
	Description *string
	// JSON Schema for tool input parameters
	InputSchema []byte
	// JSON Schema for tool output (optional)
	OutputSchema []byte
}

// Toolset is the result type of the registry service GetToolset method.
type Toolset struct {
	// Unique name for the toolset
	Name string
	// Human-readable description
	Description *string
	// Semantic version
	Version *string
	// Tags for categorization
	Tags []string
	// Tool definitions
	Tools []*Tool
	// Pulse stream identifier
	StreamID string
	// ISO 8601 registration timestamp
	RegisteredAt string
}

// Toolset metadata for listing and search results
type ToolsetInfo struct {
	// Unique name for the toolset
	Name string
	// Human-readable description
	Description *string
	// Semantic version
	Version *string
	// Tags for categorization
	Tags []string
	// Number of tools in the toolset
	ToolCount int
	// ISO 8601 registration timestamp
	RegisteredAt string
}

// UnregisterPayload is the payload type of the registry service Unregister
// method.
type UnregisterPayload struct {
	// Name of the toolset to unregister
	Name string
}

// MakeNotFound builds a goa.ServiceError from an error.
func MakeNotFound(err error) *goa.ServiceError {
	return goa.NewServiceError(err, "not_found", false, false, false)
}

// MakeValidationError builds a goa.ServiceError from an error.
func MakeValidationError(err error) *goa.ServiceError {
	return goa.NewServiceError(err, "validation_error", false, false, false)
}

// MakeServiceUnavailable builds a goa.ServiceError from an error.
func MakeServiceUnavailable(err error) *goa.ServiceError {
	return goa.NewServiceError(err, "service_unavailable", false, false, false)
}

// MakeTimeout builds a goa.ServiceError from an error.
func MakeTimeout(err error) *goa.ServiceError {
	return goa.NewServiceError(err, "timeout", false, false, false)
}
