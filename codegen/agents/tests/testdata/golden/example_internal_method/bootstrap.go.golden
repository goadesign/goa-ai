// Code generated by goa vX, DO NOT EDIT.
//
// Agents bootstrap (internal)
//
// Command:

package bootstrap

import (
    "context"
    agentsruntime "goa.design/goa-ai/runtime/agents/runtime"
    scribe "goa.design/goa-ai/alpha/agents/scribe"
    plannerscribe "goa.design/goa-ai/internal/agents/scribe/planner"
    toolsetscribeprofiles "goa.design/goa-ai/internal/agents/scribe/toolsets/profiles"
)

// Package bootstrap wires the goa-ai runtime and registers generated agents.
// This scaffold is application-owned: edit and maintain it; it is not re-generated
// by `goa gen`. Use it from your cmd main or workers to initialize agents.

// Define flags for MCP endpoints (if any). Pass values via your cmd main.

// New constructs a minimal runtime and registers all agents for this service.
// Replace options (engine, stores, telemetry) as you adopt production wiring.
func New(ctx context.Context) (*agentsruntime.Runtime, func(), error) {
	rt := agentsruntime.New(agentsruntime.Options{})
	cleanup := func() {}

	// Register agents with example planners. Replace with your own planner impls.
	{
		cfg := scribe.ScribeAgentConfig{Planner: plannerscribe.New()}
        if err := scribe.RegisterScribeAgent(ctx, rt, cfg); err != nil {
            return nil, nil, err
        }
        // Register method-backed toolsets with default executors.
        if err := toolsetscribeprofiles.Register(ctx, rt); err != nil {
            return nil, nil, err
        }
    }

	return rt, cleanup, nil
}
