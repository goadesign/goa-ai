// Code generated by goa vX, DO NOT EDIT.
//
// lookup service toolset
//
// Command:

package lookup

import (
	"context"
	specs "goa.design/goa-ai/alpha/agents/scribe/specs"
	"goa.design/goa-ai/runtime/agent/planner"
	"goa.design/goa-ai/runtime/agent/policy"
	runtime "goa.design/goa-ai/runtime/agent/runtime"
)

// ToolsetID is the qualified identifier for this toolset.
const ToolsetID = "alpha.lookup"

// NewScribeLookupToolsetRegistration returns a ToolsetRegistration
// that delegates execution to the provided ToolCallExecutor.
func NewScribeLookupToolsetRegistration(exec runtime.ToolCallExecutor) runtime.ToolsetRegistration {
	return runtime.ToolsetRegistration{
		Name:        ToolsetID,
		Description: "",
		Specs:       specs.Specs,
		Metadata:    policy.ToolMetadata{Title: "Lookup"},
		Execute: func(ctx context.Context, call planner.ToolRequest) (planner.ToolResult, error) {
			if exec == nil {
				return planner.ToolResult{
					Error: planner.NewToolError("executor is required"),
				}, nil
			}
			meta := runtime.ToolCallMeta{
				RunID:            call.RunID,
				SessionID:        call.SessionID,
				TurnID:           call.TurnID,
				ToolCallID:       call.ToolCallID,
				ParentToolCallID: call.ParentToolCallID,
			}
			return exec.Execute(ctx, meta, call)
		},
	}
}
