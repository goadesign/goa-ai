// Code generated by goa v3.22.6, DO NOT EDIT.
//
// ChatAgent workflow
//
// Command:
// $ goa gen example.com/assistant/design

package chat

import (
	"errors"

	"goa.design/goa-ai/agents/runtime/engine"
	"goa.design/goa-ai/agents/runtime/runtime"
)

// ChatWorkflow is the durable workflow entry point for the agent.
func ChatWorkflow(ctx engine.WorkflowContext, input any) (any, error) {
	runInput, ok := input.(runtime.RunInput)
	if !ok {
		return nil, errors.New("invalid run input")
	}
	if runtime.Default() == nil {
		return nil, errors.New("runtime not initialized")
	}
	return runtime.Default().ExecuteWorkflow(ctx, runInput)
}

// ChatWorkflowDefinition describes the workflow for runtime registration.
var ChatWorkflowDefinition = engine.WorkflowDefinition{
	Name:      "orchestrator.chat.workflow",
	TaskQueue: "orchestrator_chat_workflow",
	Handler:   ChatWorkflow,
}
