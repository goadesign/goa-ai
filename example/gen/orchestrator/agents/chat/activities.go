// Code generated by goa v3.22.6, DO NOT EDIT.
//
// ChatAgent activities
//
// Command:
// $ goa gen example.com/assistant/design

package chat

import (
	"context"
	"errors"
	"time"

	"goa.design/goa-ai/agents/runtime/engine"
	agentsruntime "goa.design/goa-ai/agents/runtime/runtime"
)

// ChatPlanActivity handles the orchestrator.chat.plan activity.
func ChatPlanActivity(ctx context.Context, input any) (any, error) {
	payload, ok := input.(agentsruntime.PlanActivityInput)
	if !ok {
		return nil, errors.New("invalid plan activity input")
	}
	rt := agentsruntime.Default()
	if rt == nil {
		return nil, errors.New("runtime not initialized")
	}
	return rt.PlanStartActivity(ctx, payload)
}

// ChatPlanActivityDefinition describes the activity for runtime registration.
var ChatPlanActivityDefinition = engine.ActivityDefinition{
	Name:    "orchestrator.chat.plan",
	Handler: ChatPlanActivity,

	Options: engine.ActivityOptions{
		Queue:   "orchestrator_chat_workflow",
		Timeout: time.Duration(120000000000),
		RetryPolicy: engine.RetryPolicy{
			MaxAttempts:        3,
			InitialInterval:    time.Duration(1000000000),
			BackoffCoefficient: 2,
		},
	}}

// ChatResumeActivity handles the orchestrator.chat.resume activity.
func ChatResumeActivity(ctx context.Context, input any) (any, error) {
	payload, ok := input.(agentsruntime.PlanActivityInput)
	if !ok {
		return nil, errors.New("invalid plan activity input")
	}
	rt := agentsruntime.Default()
	if rt == nil {
		return nil, errors.New("runtime not initialized")
	}
	return rt.PlanResumeActivity(ctx, payload)
}

// ChatResumeActivityDefinition describes the activity for runtime registration.
var ChatResumeActivityDefinition = engine.ActivityDefinition{
	Name:    "orchestrator.chat.resume",
	Handler: ChatResumeActivity,

	Options: engine.ActivityOptions{
		Queue:   "orchestrator_chat_workflow",
		Timeout: time.Duration(120000000000),
		RetryPolicy: engine.RetryPolicy{
			MaxAttempts:        3,
			InitialInterval:    time.Duration(1000000000),
			BackoffCoefficient: 2,
		},
	}}

// ChatExecuteToolActivity handles the orchestrator.chat.executetool activity.
func ChatExecuteToolActivity(ctx context.Context, input any) (any, error) {
	payload, ok := input.(agentsruntime.ToolInput)
	if !ok {
		return nil, errors.New("invalid tool activity input")
	}
	rt := agentsruntime.Default()
	if rt == nil {
		return nil, errors.New("runtime not initialized")
	}
	return rt.ExecuteToolActivity(ctx, payload)
}

// ChatExecuteToolActivityDefinition describes the activity for runtime registration.
var ChatExecuteToolActivityDefinition = engine.ActivityDefinition{
	Name:    "orchestrator.chat.executetool",
	Handler: ChatExecuteToolActivity,
}
