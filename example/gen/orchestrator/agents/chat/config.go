// Code generated by goa v3.22.6, DO NOT EDIT.
//
// ChatAgent config
//
// Command:
// $ goa gen example.com/assistant/design

package chat

import (
	"errors"
	"fmt"

	"goa.design/goa-ai/runtime/agents/planner"
	mcpruntime "goa.design/goa-ai/runtime/mcp"
)

const (
	// ChatAssistantAssistantMcpToolsetID uniquely identifies the assistant.assistant-mcp MCP toolset.
	ChatAssistantAssistantMcpToolsetID = "assistant.assistant-mcp"
)

// ChatAgentConfig configures the ChatAgent agent package.
type ChatAgentConfig struct {
	// Planner provides the concrete planner implementation used by the agent.
	Planner planner.Planner
	// MCPCallers maps MCP toolset IDs to the callers that invoke them. A caller must be
	// provided for every toolset referenced via UseMCPToolset.
	MCPCallers map[string]mcpruntime.Caller
}

// Validate ensures the configuration is usable.
func (c ChatAgentConfig) Validate() error {
	if c.Planner == nil {
		return errors.New("planner is required")
	}
	required := []string{
		ChatAssistantAssistantMcpToolsetID,
	}
	for _, id := range required {
		if c.MCPCallers == nil || c.MCPCallers[id] == nil {
			return fmt.Errorf("mcp caller for %s is required", id)
		}
	}
	return nil
}
