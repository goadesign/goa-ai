// Code generated by goa v3.22.6, DO NOT EDIT.
//
// orchestrator service type conversion functions
//
// Command:
// $ goa gen example.com/assistant/design

package orchestrator

import (
	apitypes "goa.design/goa-ai/agents/apitypes"
)

// ConvertToToolError creates an instance of ToolError initialized from t.
func (t *AgentToolError) ConvertToToolError() *apitypes.ToolError {
	v := &apitypes.ToolError{}
	if t.Message != nil {
		v.Message = *t.Message
	}
	if t.Cause != nil {
		v.Cause = transformAgentToolErrorToApitypesToolError(t.Cause)
	}
	return v
}

// ConvertToAgentMessage creates an instance of AgentMessage initialized from t.
func (t *AgentMessage) ConvertToAgentMessage() *apitypes.AgentMessage {
	v := &apitypes.AgentMessage{
		Role:    t.Role,
		Content: t.Content,
	}
	if t.Meta != nil {
		v.Meta = make(map[string]any, len(t.Meta))
		for key, val := range t.Meta {
			tk := key
			tv := val
			v.Meta[tk] = tv
		}
	}
	return v
}

// ConvertToRunInput creates an instance of RunInput initialized from t.
func (t *AgentRunPayload) ConvertToRunInput() *apitypes.RunInput {
	v := &apitypes.RunInput{}
	if t.AgentID != nil {
		v.AgentID = *t.AgentID
	}
	if t.RunID != nil {
		v.RunID = *t.RunID
	}
	if t.SessionID != nil {
		v.SessionID = *t.SessionID
	}
	if t.TurnID != nil {
		v.TurnID = *t.TurnID
	}
	v.Messages = make([]*apitypes.AgentMessage, len(t.Messages))
	for i, val := range t.Messages {
		if val == nil {
			v.Messages[i] = nil
			continue
		}
		v.Messages[i] = transformAgentMessageToApitypesAgentMessage(val)
	}
	if t.Labels != nil {
		v.Labels = make(map[string]string, len(t.Labels))
		for key, val := range t.Labels {
			tk := key
			tv := val
			v.Labels[tk] = tv
		}
	}
	if t.Metadata != nil {
		v.Metadata = make(map[string]any, len(t.Metadata))
		for key, val := range t.Metadata {
			tk := key
			tv := val
			v.Metadata[tk] = tv
		}
	}
	return v
}

// CreateFromToolError initializes t from the fields of v
func (t *AgentToolError) CreateFromToolError(v *apitypes.ToolError) {
	temp := &AgentToolError{
		Message: &v.Message,
	}
	if v.Cause != nil {
		temp.Cause = transformApitypesToolErrorToAgentToolError(v.Cause)
	}
	*t = *temp
}

// CreateFromAgentMessage initializes t from the fields of v
func (t *AgentMessage) CreateFromAgentMessage(v *apitypes.AgentMessage) {
	temp := &AgentMessage{
		Role:    v.Role,
		Content: v.Content,
	}
	if v.Meta != nil {
		temp.Meta = make(map[string]any, len(v.Meta))
		for key, val := range v.Meta {
			tk := key
			tv := val
			temp.Meta[tk] = tv
		}
	}
	*t = *temp
}

// CreateFromRunInput initializes t from the fields of v
func (t *AgentRunPayload) CreateFromRunInput(v *apitypes.RunInput) {
	temp := &AgentRunPayload{
		AgentID:   &v.AgentID,
		RunID:     &v.RunID,
		SessionID: &v.SessionID,
		TurnID:    &v.TurnID,
	}
	if v.Messages != nil {
		temp.Messages = make([]*AgentMessage, len(v.Messages))
		for i, val := range v.Messages {
			if val == nil {
				temp.Messages[i] = nil
				continue
			}
			temp.Messages[i] = transformApitypesAgentMessageToAgentMessage(val)
		}
	}
	if v.Labels != nil {
		temp.Labels = make(map[string]string, len(v.Labels))
		for key, val := range v.Labels {
			tk := key
			tv := val
			temp.Labels[tk] = tv
		}
	}
	if v.Metadata != nil {
		temp.Metadata = make(map[string]any, len(v.Metadata))
		for key, val := range v.Metadata {
			tk := key
			tv := val
			temp.Metadata[tk] = tv
		}
	}
	*t = *temp
}

// transformAgentToolErrorToApitypesToolError builds a value of type
// *apitypes.ToolError from a value of type *AgentToolError.
func transformAgentToolErrorToApitypesToolError(v *AgentToolError) *apitypes.ToolError {
	if v == nil {
		return nil
	}
	res := &apitypes.ToolError{}
	if v.Message != nil {
		res.Message = *v.Message
	}
	if v.Cause != nil {
		res.Cause = transformAgentToolErrorToApitypesToolError(v.Cause)
	}

	return res
}

// transformAgentMessageToApitypesAgentMessage builds a value of type
// *apitypes.AgentMessage from a value of type *AgentMessage.
func transformAgentMessageToApitypesAgentMessage(v *AgentMessage) *apitypes.AgentMessage {
	res := &apitypes.AgentMessage{
		Role:    v.Role,
		Content: v.Content,
	}
	if v.Meta != nil {
		res.Meta = make(map[string]any, len(v.Meta))
		for key, val := range v.Meta {
			tk := key
			tv := val
			res.Meta[tk] = tv
		}
	}

	return res
}

// transformApitypesToolErrorToAgentToolError builds a value of type
// *AgentToolError from a value of type *apitypes.ToolError.
func transformApitypesToolErrorToAgentToolError(v *apitypes.ToolError) *AgentToolError {
	if v == nil {
		return nil
	}
	res := &AgentToolError{
		Message: &v.Message,
	}
	if v.Cause != nil {
		res.Cause = transformApitypesToolErrorToAgentToolError(v.Cause)
	}

	return res
}

// transformApitypesAgentMessageToAgentMessage builds a value of type
// *AgentMessage from a value of type *apitypes.AgentMessage.
func transformApitypesAgentMessageToAgentMessage(v *apitypes.AgentMessage) *AgentMessage {
	if v == nil {
		return nil
	}
	res := &AgentMessage{
		Role:    v.Role,
		Content: v.Content,
	}
	if v.Meta != nil {
		res.Meta = make(map[string]any, len(v.Meta))
		for key, val := range v.Meta {
			tk := key
			tv := val
			res.Meta[tk] = tv
		}
	}

	return res
}
