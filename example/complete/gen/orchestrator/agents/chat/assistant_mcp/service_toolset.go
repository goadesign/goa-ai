// Code generated by goa v3.22.6, DO NOT EDIT.
//
// assistant-mcp service toolset
//
// Command:
// $ goa gen example.com/assistant/design

package assistant_mcp

import (
	"context"

	specs "example.com/assistant/gen/orchestrator/agents/chat/specs"
	"goa.design/goa-ai/runtime/agent/planner"
	"goa.design/goa-ai/runtime/agent/policy"
	runtime "goa.design/goa-ai/runtime/agent/runtime"
)

// NewChatAssistantMcpToolsetRegistration returns a ToolsetRegistration
// that delegates execution to the provided ToolCallExecutor.
func NewChatAssistantMcpToolsetRegistration(exec runtime.ToolCallExecutor) runtime.ToolsetRegistration {
	return runtime.ToolsetRegistration{
		Name:        "assistant.assistant-mcp",
		Description: "AI Assistant service with full MCP protocol support",
		Specs:       specs.Specs,
		Metadata:    policy.ToolMetadata{ID: "assistant-mcp", Name: "assistant-mcp"},
		Execute: func(ctx context.Context, call planner.ToolRequest) (planner.ToolResult, error) {
			if exec == nil {
				return planner.ToolResult{
					Error: planner.NewToolError("executor is required"),
				}, nil
			}
			meta := runtime.ToolCallMeta{
				RunID:            call.RunID,
				SessionID:        call.SessionID,
				TurnID:           call.TurnID,
				ToolCallID:       call.ToolCallID,
				ParentToolCallID: call.ParentToolCallID,
			}
			return exec.Execute(ctx, meta, call)
		},
	}
}
