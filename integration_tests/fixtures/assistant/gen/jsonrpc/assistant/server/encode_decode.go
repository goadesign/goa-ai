// Code generated by goa v3.23.0, DO NOT EDIT.
//
// assistant JSON-RPC server encoders and decoders
//
// Command:
// $ goa gen example.com/assistant/design

package server

import (
	"bytes"
	"context"
	"errors"
	"io"
	"net/http"

	assistant "example.com/assistant/gen/assistant"
	goahttp "goa.design/goa/v3/http"
	"goa.design/goa/v3/jsonrpc"
	goa "goa.design/goa/v3/pkg"
)

// EncodeListDocumentsResponse returns an encoder for responses returned by the
// assistant list_documents endpoint.
func EncodeListDocumentsResponse(encoder func(context.Context, http.ResponseWriter) goahttp.Encoder) func(context.Context, http.ResponseWriter, any) error {
	return func(ctx context.Context, w http.ResponseWriter, v any) error {
		res, _ := v.(*assistant.Documents)
		enc := encoder(ctx, w)
		body := NewListDocumentsResponseBody(res)
		w.WriteHeader(http.StatusOK)
		return enc.Encode(body)
	}
}

// EncodeSystemInfoResponse returns an encoder for responses returned by the
// assistant system_info endpoint.
func EncodeSystemInfoResponse(encoder func(context.Context, http.ResponseWriter) goahttp.Encoder) func(context.Context, http.ResponseWriter, any) error {
	return func(ctx context.Context, w http.ResponseWriter, v any) error {
		res, _ := v.(*assistant.SystemInfoResult)
		enc := encoder(ctx, w)
		body := NewSystemInfoResponseBody(res)
		w.WriteHeader(http.StatusOK)
		return enc.Encode(body)
	}
}

// EncodeConversationHistoryResponse returns an encoder for responses returned
// by the assistant conversation_history endpoint.
func EncodeConversationHistoryResponse(encoder func(context.Context, http.ResponseWriter) goahttp.Encoder) func(context.Context, http.ResponseWriter, any) error {
	return func(ctx context.Context, w http.ResponseWriter, v any) error {
		res, _ := v.(*assistant.ConversationHistoryResult)
		enc := encoder(ctx, w)
		body := NewConversationHistoryResponseBody(res)
		w.WriteHeader(http.StatusOK)
		return enc.Encode(body)
	}
}

// DecodeConversationHistoryRequest returns a decoder for requests sent to the
// assistant conversation_history endpoint.
func DecodeConversationHistoryRequest(mux goahttp.Muxer, decoder func(*http.Request) goahttp.Decoder) func(*http.Request, *jsonrpc.RawRequest) (*assistant.ConversationHistoryPayload, error) {
	return func(r *http.Request, req *jsonrpc.RawRequest) (*assistant.ConversationHistoryPayload, error) {
		r.Body = io.NopCloser(bytes.NewReader(req.Params))
		var (
			body ConversationHistoryRequestBody
			err  error
		)
		err = decoder(r).Decode(&body)
		if err != nil {
			if errors.Is(err, io.EOF) {
				var zero *assistant.ConversationHistoryPayload
				return zero, goa.MissingPayloadError()
			}
			var gerr *goa.ServiceError
			if errors.As(err, &gerr) {
				var zero *assistant.ConversationHistoryPayload
				return zero, gerr
			}
			var zero *assistant.ConversationHistoryPayload
			return zero, goa.DecodePayloadError(err.Error())
		}
		payload := NewConversationHistoryPayload(&body)

		return payload, nil
	}
}

// EncodeGeneratePromptsResponse returns an encoder for responses returned by
// the assistant generate_prompts endpoint.
func EncodeGeneratePromptsResponse(encoder func(context.Context, http.ResponseWriter) goahttp.Encoder) func(context.Context, http.ResponseWriter, any) error {
	return func(ctx context.Context, w http.ResponseWriter, v any) error {
		res, _ := v.(*assistant.PromptTemplates)
		enc := encoder(ctx, w)
		body := NewGeneratePromptsResponseBody(res)
		w.WriteHeader(http.StatusOK)
		return enc.Encode(body)
	}
}

// DecodeGeneratePromptsRequest returns a decoder for requests sent to the
// assistant generate_prompts endpoint.
func DecodeGeneratePromptsRequest(mux goahttp.Muxer, decoder func(*http.Request) goahttp.Decoder) func(*http.Request, *jsonrpc.RawRequest) (*assistant.GeneratePromptsPayload, error) {
	return func(r *http.Request, req *jsonrpc.RawRequest) (*assistant.GeneratePromptsPayload, error) {
		r.Body = io.NopCloser(bytes.NewReader(req.Params))
		var (
			body GeneratePromptsRequestBody
			err  error
		)
		err = decoder(r).Decode(&body)
		if err != nil {
			if errors.Is(err, io.EOF) {
				var zero *assistant.GeneratePromptsPayload
				return zero, goa.MissingPayloadError()
			}
			var gerr *goa.ServiceError
			if errors.As(err, &gerr) {
				var zero *assistant.GeneratePromptsPayload
				return zero, gerr
			}
			var zero *assistant.GeneratePromptsPayload
			return zero, goa.DecodePayloadError(err.Error())
		}
		err = ValidateGeneratePromptsRequestBody(&body)
		if err != nil {
			var zero *assistant.GeneratePromptsPayload
			return zero, err
		}
		payload := NewGeneratePromptsPayload(&body)

		return payload, nil
	}
}

// EncodeSendNotificationResponse returns an encoder for responses returned by
// the assistant send_notification endpoint.
func EncodeSendNotificationResponse(encoder func(context.Context, http.ResponseWriter) goahttp.Encoder) func(context.Context, http.ResponseWriter, any) error {
	return func(ctx context.Context, w http.ResponseWriter, v any) error {
		w.WriteHeader(http.StatusNoContent)
		return nil
	}
}

// DecodeSendNotificationRequest returns a decoder for requests sent to the
// assistant send_notification endpoint.
func DecodeSendNotificationRequest(mux goahttp.Muxer, decoder func(*http.Request) goahttp.Decoder) func(*http.Request, *jsonrpc.RawRequest) (*assistant.SendNotificationPayload, error) {
	return func(r *http.Request, req *jsonrpc.RawRequest) (*assistant.SendNotificationPayload, error) {
		r.Body = io.NopCloser(bytes.NewReader(req.Params))
		var (
			body SendNotificationRequestBody
			err  error
		)
		err = decoder(r).Decode(&body)
		if err != nil {
			if errors.Is(err, io.EOF) {
				var zero *assistant.SendNotificationPayload
				return zero, goa.MissingPayloadError()
			}
			var gerr *goa.ServiceError
			if errors.As(err, &gerr) {
				var zero *assistant.SendNotificationPayload
				return zero, gerr
			}
			var zero *assistant.SendNotificationPayload
			return zero, goa.DecodePayloadError(err.Error())
		}
		err = ValidateSendNotificationRequestBody(&body)
		if err != nil {
			var zero *assistant.SendNotificationPayload
			return zero, err
		}
		payload := NewSendNotificationPayload(&body)

		return payload, nil
	}
}

// EncodeAnalyzeSentimentResponse returns an encoder for responses returned by
// the assistant analyze_sentiment endpoint.
func EncodeAnalyzeSentimentResponse(encoder func(context.Context, http.ResponseWriter) goahttp.Encoder) func(context.Context, http.ResponseWriter, any) error {
	return func(ctx context.Context, w http.ResponseWriter, v any) error {
		res, _ := v.(*assistant.AnalyzeSentimentResult)
		enc := encoder(ctx, w)
		body := NewAnalyzeSentimentResponseBody(res)
		w.WriteHeader(http.StatusOK)
		return enc.Encode(body)
	}
}

// DecodeAnalyzeSentimentRequest returns a decoder for requests sent to the
// assistant analyze_sentiment endpoint.
func DecodeAnalyzeSentimentRequest(mux goahttp.Muxer, decoder func(*http.Request) goahttp.Decoder) func(*http.Request, *jsonrpc.RawRequest) (*assistant.AnalyzeSentimentPayload, error) {
	return func(r *http.Request, req *jsonrpc.RawRequest) (*assistant.AnalyzeSentimentPayload, error) {
		r.Body = io.NopCloser(bytes.NewReader(req.Params))
		var (
			body AnalyzeSentimentRequestBody
			err  error
		)
		err = decoder(r).Decode(&body)
		if err != nil {
			if errors.Is(err, io.EOF) {
				var zero *assistant.AnalyzeSentimentPayload
				return zero, goa.MissingPayloadError()
			}
			var gerr *goa.ServiceError
			if errors.As(err, &gerr) {
				var zero *assistant.AnalyzeSentimentPayload
				return zero, gerr
			}
			var zero *assistant.AnalyzeSentimentPayload
			return zero, goa.DecodePayloadError(err.Error())
		}
		err = ValidateAnalyzeSentimentRequestBody(&body)
		if err != nil {
			var zero *assistant.AnalyzeSentimentPayload
			return zero, err
		}
		payload := NewAnalyzeSentimentPayload(&body)

		return payload, nil
	}
}

// EncodeExtractKeywordsResponse returns an encoder for responses returned by
// the assistant extract_keywords endpoint.
func EncodeExtractKeywordsResponse(encoder func(context.Context, http.ResponseWriter) goahttp.Encoder) func(context.Context, http.ResponseWriter, any) error {
	return func(ctx context.Context, w http.ResponseWriter, v any) error {
		res, _ := v.(*assistant.ExtractKeywordsResult)
		enc := encoder(ctx, w)
		body := NewExtractKeywordsResponseBody(res)
		w.WriteHeader(http.StatusOK)
		return enc.Encode(body)
	}
}

// DecodeExtractKeywordsRequest returns a decoder for requests sent to the
// assistant extract_keywords endpoint.
func DecodeExtractKeywordsRequest(mux goahttp.Muxer, decoder func(*http.Request) goahttp.Decoder) func(*http.Request, *jsonrpc.RawRequest) (*assistant.ExtractKeywordsPayload, error) {
	return func(r *http.Request, req *jsonrpc.RawRequest) (*assistant.ExtractKeywordsPayload, error) {
		r.Body = io.NopCloser(bytes.NewReader(req.Params))
		var (
			body ExtractKeywordsRequestBody
			err  error
		)
		err = decoder(r).Decode(&body)
		if err != nil {
			if errors.Is(err, io.EOF) {
				var zero *assistant.ExtractKeywordsPayload
				return zero, goa.MissingPayloadError()
			}
			var gerr *goa.ServiceError
			if errors.As(err, &gerr) {
				var zero *assistant.ExtractKeywordsPayload
				return zero, gerr
			}
			var zero *assistant.ExtractKeywordsPayload
			return zero, goa.DecodePayloadError(err.Error())
		}
		err = ValidateExtractKeywordsRequestBody(&body)
		if err != nil {
			var zero *assistant.ExtractKeywordsPayload
			return zero, err
		}
		payload := NewExtractKeywordsPayload(&body)

		return payload, nil
	}
}

// EncodeSummarizeTextResponse returns an encoder for responses returned by the
// assistant summarize_text endpoint.
func EncodeSummarizeTextResponse(encoder func(context.Context, http.ResponseWriter) goahttp.Encoder) func(context.Context, http.ResponseWriter, any) error {
	return func(ctx context.Context, w http.ResponseWriter, v any) error {
		res, _ := v.(*assistant.SummarizeTextResult)
		enc := encoder(ctx, w)
		body := NewSummarizeTextResponseBody(res)
		w.WriteHeader(http.StatusOK)
		return enc.Encode(body)
	}
}

// DecodeSummarizeTextRequest returns a decoder for requests sent to the
// assistant summarize_text endpoint.
func DecodeSummarizeTextRequest(mux goahttp.Muxer, decoder func(*http.Request) goahttp.Decoder) func(*http.Request, *jsonrpc.RawRequest) (*assistant.SummarizeTextPayload, error) {
	return func(r *http.Request, req *jsonrpc.RawRequest) (*assistant.SummarizeTextPayload, error) {
		r.Body = io.NopCloser(bytes.NewReader(req.Params))
		var (
			body SummarizeTextRequestBody
			err  error
		)
		err = decoder(r).Decode(&body)
		if err != nil {
			if errors.Is(err, io.EOF) {
				var zero *assistant.SummarizeTextPayload
				return zero, goa.MissingPayloadError()
			}
			var gerr *goa.ServiceError
			if errors.As(err, &gerr) {
				var zero *assistant.SummarizeTextPayload
				return zero, gerr
			}
			var zero *assistant.SummarizeTextPayload
			return zero, goa.DecodePayloadError(err.Error())
		}
		err = ValidateSummarizeTextRequestBody(&body)
		if err != nil {
			var zero *assistant.SummarizeTextPayload
			return zero, err
		}
		payload := NewSummarizeTextPayload(&body)

		return payload, nil
	}
}

// EncodeSearchResponse returns an encoder for responses returned by the
// assistant search endpoint.
func EncodeSearchResponse(encoder func(context.Context, http.ResponseWriter) goahttp.Encoder) func(context.Context, http.ResponseWriter, any) error {
	return func(ctx context.Context, w http.ResponseWriter, v any) error {
		res, _ := v.(*assistant.SearchResult)
		enc := encoder(ctx, w)
		body := NewSearchResponseBody(res)
		w.WriteHeader(http.StatusOK)
		return enc.Encode(body)
	}
}

// DecodeSearchRequest returns a decoder for requests sent to the assistant
// search endpoint.
func DecodeSearchRequest(mux goahttp.Muxer, decoder func(*http.Request) goahttp.Decoder) func(*http.Request, *jsonrpc.RawRequest) (*assistant.SearchPayload, error) {
	return func(r *http.Request, req *jsonrpc.RawRequest) (*assistant.SearchPayload, error) {
		r.Body = io.NopCloser(bytes.NewReader(req.Params))
		var (
			body SearchRequestBody
			err  error
		)
		err = decoder(r).Decode(&body)
		if err != nil {
			if errors.Is(err, io.EOF) {
				var zero *assistant.SearchPayload
				return zero, goa.MissingPayloadError()
			}
			var gerr *goa.ServiceError
			if errors.As(err, &gerr) {
				var zero *assistant.SearchPayload
				return zero, gerr
			}
			var zero *assistant.SearchPayload
			return zero, goa.DecodePayloadError(err.Error())
		}
		err = ValidateSearchRequestBody(&body)
		if err != nil {
			var zero *assistant.SearchPayload
			return zero, err
		}
		payload := NewSearchPayload(&body)

		return payload, nil
	}
}

// EncodeExecuteCodeResponse returns an encoder for responses returned by the
// assistant execute_code endpoint.
func EncodeExecuteCodeResponse(encoder func(context.Context, http.ResponseWriter) goahttp.Encoder) func(context.Context, http.ResponseWriter, any) error {
	return func(ctx context.Context, w http.ResponseWriter, v any) error {
		res, _ := v.(*assistant.ExecuteCodeResult)
		enc := encoder(ctx, w)
		body := NewExecuteCodeResponseBody(res)
		w.WriteHeader(http.StatusOK)
		return enc.Encode(body)
	}
}

// DecodeExecuteCodeRequest returns a decoder for requests sent to the
// assistant execute_code endpoint.
func DecodeExecuteCodeRequest(mux goahttp.Muxer, decoder func(*http.Request) goahttp.Decoder) func(*http.Request, *jsonrpc.RawRequest) (*assistant.ExecuteCodePayload, error) {
	return func(r *http.Request, req *jsonrpc.RawRequest) (*assistant.ExecuteCodePayload, error) {
		r.Body = io.NopCloser(bytes.NewReader(req.Params))
		var (
			body ExecuteCodeRequestBody
			err  error
		)
		err = decoder(r).Decode(&body)
		if err != nil {
			if errors.Is(err, io.EOF) {
				var zero *assistant.ExecuteCodePayload
				return zero, goa.MissingPayloadError()
			}
			var gerr *goa.ServiceError
			if errors.As(err, &gerr) {
				var zero *assistant.ExecuteCodePayload
				return zero, gerr
			}
			var zero *assistant.ExecuteCodePayload
			return zero, goa.DecodePayloadError(err.Error())
		}
		err = ValidateExecuteCodeRequestBody(&body)
		if err != nil {
			var zero *assistant.ExecuteCodePayload
			return zero, err
		}
		payload := NewExecuteCodePayload(&body)

		return payload, nil
	}
}

// EncodeProcessBatchResponse returns an encoder for responses returned by the
// assistant process_batch endpoint.
func EncodeProcessBatchResponse(encoder func(context.Context, http.ResponseWriter) goahttp.Encoder) func(context.Context, http.ResponseWriter, any) error {
	return func(ctx context.Context, w http.ResponseWriter, v any) error {
		res, _ := v.(*assistant.ProcessBatchResult)
		enc := encoder(ctx, w)
		body := NewProcessBatchResponseBody(res)
		w.WriteHeader(http.StatusOK)
		return enc.Encode(body)
	}
}

// DecodeProcessBatchRequest returns a decoder for requests sent to the
// assistant process_batch endpoint.
func DecodeProcessBatchRequest(mux goahttp.Muxer, decoder func(*http.Request) goahttp.Decoder) func(*http.Request, *jsonrpc.RawRequest) (*assistant.ProcessBatchPayload, error) {
	return func(r *http.Request, req *jsonrpc.RawRequest) (*assistant.ProcessBatchPayload, error) {
		r.Body = io.NopCloser(bytes.NewReader(req.Params))
		var (
			body ProcessBatchRequestBody
			err  error
		)
		err = decoder(r).Decode(&body)
		if err != nil {
			if errors.Is(err, io.EOF) {
				var zero *assistant.ProcessBatchPayload
				return zero, goa.MissingPayloadError()
			}
			var gerr *goa.ServiceError
			if errors.As(err, &gerr) {
				var zero *assistant.ProcessBatchPayload
				return zero, gerr
			}
			var zero *assistant.ProcessBatchPayload
			return zero, goa.DecodePayloadError(err.Error())
		}
		err = ValidateProcessBatchRequestBody(&body)
		if err != nil {
			var zero *assistant.ProcessBatchPayload
			return zero, err
		}
		payload := NewProcessBatchPayload(&body)

		return payload, nil
	}
}
