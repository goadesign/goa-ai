// Code generated by goa v3.24.2, DO NOT EDIT.
//
// mcp_assistant service
//
// Command:
// $ goa gen example.com/assistant/design

package mcpassistant

import (
	"context"
	"encoding/json"
)

// MCP protocol service for assistant
type Service interface {
	// Initialize MCP session
	Initialize(context.Context, *InitializePayload) (res *InitializeResult, err error)
	// Ping the server
	Ping(context.Context) (res *PingResult, err error)
	// List available tools
	ToolsList(context.Context, *ToolsListPayload) (res *ToolsListResult, err error)
	// Call a tool
	ToolsCall(context.Context, *ToolsCallPayload, ToolsCallServerStream) (err error)
	// List available resources
	ResourcesList(context.Context, *ResourcesListPayload) (res *ResourcesListResult, err error)
	// Read a resource
	ResourcesRead(context.Context, *ResourcesReadPayload) (res *ResourcesReadResult, err error)
	// Subscribe to resource changes
	ResourcesSubscribe(context.Context, *ResourcesSubscribePayload) (err error)
	// Unsubscribe from resource changes
	ResourcesUnsubscribe(context.Context, *ResourcesUnsubscribePayload) (err error)
	// List available prompts
	PromptsList(context.Context, *PromptsListPayload) (res *PromptsListResult, err error)
	// Get a prompt by name
	PromptsGet(context.Context, *PromptsGetPayload) (res *PromptsGetResult, err error)
	// Send status updates to client
	NotifyStatusUpdate(context.Context, *SendNotificationPayload) (err error)
	// Stream server-sent events (notifications)
	EventsStream(context.Context, EventsStreamServerStream) (err error)
}

// APIName is the name of the API as defined in the design.
const APIName = "MCP"

// APIVersion is the version of the API as defined in the design.
const APIVersion = "1.0"

// ServiceName is the name of the service as defined in the design. This is the
// same value that is set in the endpoint request contexts under the ServiceKey
// key.
const ServiceName = "mcp_assistant"

// MethodNames lists the service method names as defined in the design. These
// are the same values that are set in the endpoint request contexts under the
// MethodKey key.
var MethodNames = [12]string{"initialize", "ping", "tools/list", "tools/call", "resources/list", "resources/read", "resources/subscribe", "resources/unsubscribe", "prompts/list", "prompts/get", "notify_status_update", "events/stream"}

// ToolsCallEvent is the interface implemented by the result type for the
// tools/call method.
type ToolsCallEvent interface {
	isToolsCallEvent()
}

// isToolsCallEvent implements the ToolsCallEvent interface.
func (*ToolsCallResult) isToolsCallEvent() {}

// ToolsCallServerStream allows streaming instances of *ToolsCallResult over
// SSE.
type ToolsCallServerStream interface {
	// Send streams JSON-RPC notifications with "ToolsCallResult". Notifications do
	// not expect a response.
	// IMPORTANT: Send only sends JSON-RPC notifications. Use SendAndClose to send
	// a final response.
	Send(ctx context.Context, event ToolsCallEvent) error
	// SendAndClose sends a final response with "ToolsCallResult" and closes the
	// stream.
	// The result will be sent as a JSON-RPC response with the original request ID.
	// If the result has an ID field populated, that ID will be used instead of the
	// request ID.
	SendAndClose(ctx context.Context, event ToolsCallEvent) error
	// SendError sends a JSON-RPC error response.
	SendError(ctx context.Context, id string, err error) error
}

// ToolsCallClientStream allows streaming instances of *ToolsCallResult to the
// client.
type ToolsCallClientStream interface {
	// Recv reads instances of "ToolsCallResult" from the stream.
	Recv() (*ToolsCallResult, error)
	// RecvWithContext reads instances of "ToolsCallResult" from the stream with
	// context.
	RecvWithContext(context.Context) (*ToolsCallResult, error)
}

// EventsStreamEvent is the interface implemented by the result type for the
// events/stream method.
type EventsStreamEvent interface {
	isEventsStreamEvent()
}

// isEventsStreamEvent implements the EventsStreamEvent interface.
func (*EventsStreamResult) isEventsStreamEvent() {}

// EventsStreamServerStream allows streaming instances of *EventsStreamResult
// over SSE.
type EventsStreamServerStream interface {
	// Send streams JSON-RPC notifications with "EventsStreamResult". Notifications
	// do not expect a response.
	// IMPORTANT: Send only sends JSON-RPC notifications. Use SendAndClose to send
	// a final response.
	Send(ctx context.Context, event EventsStreamEvent) error
	// SendAndClose sends a final response with "EventsStreamResult" and closes the
	// stream.
	// The result will be sent as a JSON-RPC response with the original request ID.
	// If the result has an ID field populated, that ID will be used instead of the
	// request ID.
	SendAndClose(ctx context.Context, event EventsStreamEvent) error
	// SendError sends a JSON-RPC error response.
	SendError(ctx context.Context, id string, err error) error
}

// EventsStreamClientStream allows streaming instances of *EventsStreamResult
// to the client.
type EventsStreamClientStream interface {
	// Recv reads instances of "EventsStreamResult" from the stream.
	Recv() (*EventsStreamResult, error)
	// RecvWithContext reads instances of "EventsStreamResult" from the stream with
	// context.
	RecvWithContext(context.Context) (*EventsStreamResult, error)
}

// Stream defines the interface for managing an SSE streaming connection in the
// mcp_assistant server. It allows sending notifications and final responses.
// This interface is used by the service to interact with clients over SSE
// using JSON-RPC.
type Stream interface {
	// Send sends an event (notification or response) to the client.
	// For notifications, the result should not have an ID field.
	// For responses, the result must have an ID field.
	// Accepted types: *InitializeResult, *PingResult, *ToolsListResult,
	// *ToolsCallResult, *ResourcesListResult, *ResourcesReadResult,
	// *PromptsListResult, *PromptsGetResult, *EventsStreamResult
	Send(ctx context.Context, event Event) error
}

// Event is the interface implemented by all result types that can be sent via
// the mcp_assistant Stream.
type Event interface {
	ismcpAssistantEvent()
}

// ismcpAssistantEvent implements the Event interface.
func (*InitializeResult) ismcpAssistantEvent() {}

// ismcpAssistantEvent implements the Event interface.
func (*PingResult) ismcpAssistantEvent() {}

// ismcpAssistantEvent implements the Event interface.
func (*ToolsListResult) ismcpAssistantEvent() {}

// ismcpAssistantEvent implements the Event interface.
func (*ToolsCallResult) ismcpAssistantEvent() {}

// ismcpAssistantEvent implements the Event interface.
func (*ResourcesListResult) ismcpAssistantEvent() {}

// ismcpAssistantEvent implements the Event interface.
func (*ResourcesReadResult) ismcpAssistantEvent() {}

// ismcpAssistantEvent implements the Event interface.
func (*PromptsListResult) ismcpAssistantEvent() {}

// ismcpAssistantEvent implements the Event interface.
func (*PromptsGetResult) ismcpAssistantEvent() {}

// ismcpAssistantEvent implements the Event interface.
func (*EventsStreamResult) ismcpAssistantEvent() {}

type ClientInfo struct {
	// Client name
	Name string
	// Client version
	Version string
}

type ContentItem struct {
	// Content type
	Type string
	// Text content
	Text *string
	// Base64 encoded data
	Data *string
	// MIME type
	MimeType *string
	// Resource URI
	URI *string
}

// EventsStreamResult is the result type of the mcp_assistant service
// events/stream method.
type EventsStreamResult struct {
	// Tool execution results
	Content []*ContentItem
	// Whether the tool encountered an error
	IsError *bool
}

// InitializePayload is the payload type of the mcp_assistant service
// initialize method.
type InitializePayload struct {
	// MCP protocol version
	ProtocolVersion string
	// Client information
	ClientInfo *ClientInfo
}

// InitializeResult is the result type of the mcp_assistant service initialize
// method.
type InitializeResult struct {
	// MCP protocol version
	ProtocolVersion string
	// Server capabilities
	Capabilities *ServerCapabilities
	// Server information
	ServerInfo *ServerInfo
}

type MessageContent struct {
	// Content type
	Type string
	// Text content
	Text *string
	// Base64 encoded data
	Data *string
	// MIME type
	MimeType *string
	// Resource URI
	URI *string
}

// PingResult is the result type of the mcp_assistant service ping method.
type PingResult struct {
	// Response to ping
	Pong bool
}

type PromptArgument struct {
	// Argument name
	Name string
	// Argument description
	Description *string
	// Whether the argument is required
	Required bool
}

type PromptInfo struct {
	// Prompt name
	Name string
	// Prompt description
	Description *string
	// Prompt arguments
	Arguments []*PromptArgument
}

type PromptMessage struct {
	// Message role
	Role string
	// Message content
	Content *MessageContent
}

// Prompts capability marker
type PromptsCapability struct {
}

// PromptsGetPayload is the payload type of the mcp_assistant service
// prompts/get method.
type PromptsGetPayload struct {
	// Prompt name
	Name string
	// Prompt arguments
	Arguments json.RawMessage
}

// PromptsGetResult is the result type of the mcp_assistant service prompts/get
// method.
type PromptsGetResult struct {
	// Prompt description
	Description *string
	// Prompt messages
	Messages []*PromptMessage
}

// PromptsListPayload is the payload type of the mcp_assistant service
// prompts/list method.
type PromptsListPayload struct {
	// Pagination cursor
	Cursor *string
}

// PromptsListResult is the result type of the mcp_assistant service
// prompts/list method.
type PromptsListResult struct {
	// List of available prompts
	Prompts []*PromptInfo
}

type ResourceContent struct {
	// Resource URI
	URI string
	// Content MIME type
	MimeType *string
	// Text content
	Text *string
	// Base64 encoded binary content
	Blob *string
}

type ResourceInfo struct {
	// Resource URI
	URI string
	// Resource name
	Name *string
	// Resource description
	Description *string
	// Resource MIME type
	MimeType *string
}

// Resources capability marker
type ResourcesCapability struct {
}

// ResourcesListPayload is the payload type of the mcp_assistant service
// resources/list method.
type ResourcesListPayload struct {
	// Pagination cursor
	Cursor *string
}

// ResourcesListResult is the result type of the mcp_assistant service
// resources/list method.
type ResourcesListResult struct {
	// List of available resources
	Resources []*ResourceInfo
}

// ResourcesReadPayload is the payload type of the mcp_assistant service
// resources/read method.
type ResourcesReadPayload struct {
	// Resource URI
	URI string
}

// ResourcesReadResult is the result type of the mcp_assistant service
// resources/read method.
type ResourcesReadResult struct {
	// Resource contents
	Contents []*ResourceContent
}

// ResourcesSubscribePayload is the payload type of the mcp_assistant service
// resources/subscribe method.
type ResourcesSubscribePayload struct {
	// Resource URI to subscribe to
	URI string
}

// ResourcesUnsubscribePayload is the payload type of the mcp_assistant service
// resources/unsubscribe method.
type ResourcesUnsubscribePayload struct {
	// Resource URI to unsubscribe from
	URI string
}

// SendNotificationPayload is the payload type of the mcp_assistant service
// notify_status_update method.
type SendNotificationPayload struct {
	// Notification type
	Type string
	// Notification message
	Message *string
	// Additional data
	Data any
}

type ServerCapabilities struct {
	// Tool capabilities
	Tools *ToolsCapability
	// Resource capabilities
	Resources *ResourcesCapability
	// Prompt capabilities
	Prompts *PromptsCapability
}

type ServerInfo struct {
	// Server name
	Name string
	// Server version
	Version string
}

type ToolInfo struct {
	// Tool name
	Name string
	// Tool description
	Description *string
	// JSON Schema for tool input
	InputSchema any
}

// ToolsCallPayload is the payload type of the mcp_assistant service tools/call
// method.
type ToolsCallPayload struct {
	// Tool name
	Name string
	// Tool arguments
	Arguments json.RawMessage
}

// ToolsCallResult is the result type of the mcp_assistant service tools/call
// method.
type ToolsCallResult struct {
	// Tool execution results
	Content []*ContentItem
	// Whether the tool encountered an error
	IsError *bool
}

// Tools capability marker
type ToolsCapability struct {
}

// ToolsListPayload is the payload type of the mcp_assistant service tools/list
// method.
type ToolsListPayload struct {
	// Pagination cursor
	Cursor *string
}

// ToolsListResult is the result type of the mcp_assistant service tools/list
// method.
type ToolsListResult struct {
	// List of available tools
	Tools []*ToolInfo
}
